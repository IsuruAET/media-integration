var carouselDisplaying,lengthOfSlide,initialX,initialPos,carousel=document.querySelector(".carousel"),carouselContent=document.querySelector(".carousel-content"),slides=document.querySelectorAll(".slide"),arrayOfSlides=Array.prototype.slice.call(slides);function addClone(){var e=carouselContent.lastElementChild.cloneNode(!0);e.style.left=-lengthOfSlide+"px",carouselContent.insertBefore(e,carouselContent.firstChild)}function removeClone(){var e=carouselContent.firstElementChild;e.parentNode.removeChild(e)}function moveSlidesRight(){var e=document.querySelectorAll(".slide"),t=Array.prototype.slice.call(e),n=0;t.forEach(function(e,t){e.style.left=n+"px",n+=lengthOfSlide}),addClone()}function moveSlidesLeft(){var e=document.querySelectorAll(".slide"),t=Array.prototype.slice.call(e),n=((t=t.reverse()).length-1)*lengthOfSlide;t.forEach(function(e,t){n-=lengthOfSlide,e.style.left=n+"px"})}function setScreenSize(){carouselDisplaying=window.innerWidth>=500?3:window.innerWidth>=300?2:1,getScreenSize()}function getScreenSize(){var e=document.querySelectorAll(".slide"),t=Array.prototype.slice.call(e),n=-(lengthOfSlide=carousel.offsetWidth/carouselDisplaying);t.forEach(function(e){e.style.width=lengthOfSlide+"px",e.style.left=n+"px",n+=lengthOfSlide})}setScreenSize(),window.addEventListener("resize",setScreenSize);var rightNav=document.querySelector(".nav-right");rightNav.addEventListener("click",moveRight);var moving=!0;function moveRight(){if(moving){moving=!1;var e=carouselContent.lastElementChild;e.parentNode.removeChild(e),carouselContent.insertBefore(e,carouselContent.firstChild),removeClone(),carouselContent.firstElementChild.addEventListener("transitionend",activateAgain),moveSlidesRight()}}function activateAgain(){var e;moving=!0,carouselContent.firstElementChild.removeEventListener("transitionend",activateAgain)}var leftNav=document.querySelector(".nav-left");function moveLeft(){moving&&(moving=!1,removeClone(),carouselContent.firstElementChild.addEventListener("transitionend",replaceToEnd),moveSlidesLeft())}function replaceToEnd(){var e=carouselContent.firstElementChild;e.parentNode.removeChild(e),carouselContent.appendChild(e),e.style.left=(arrayOfSlides.length-1)*lengthOfSlide+"px",addClone(),moving=!0,e.removeEventListener("transitionend",replaceToEnd)}function seeMovement(e){initialX=e.clientX,getInitialPos(),document.addEventListener("mouseup",moveBasedOnMouse)}function getInitialPos(){var e,t=document.querySelectorAll(".slide");initialPos=[],Array.prototype.slice.call(t).forEach(function(e){var t=Math.floor(parseInt(e.style.left.slice(0,-2)));initialPos.push(t)})}function moveBasedOnMouse(e){var t=e.clientX;initialX-t>0?moveLeft():initialX-t<0&&moveRight(),document.removeEventListener("mouseup",moveBasedOnMouse)}leftNav.addEventListener("click",moveLeft),carouselContent.addEventListener("mousedown",seeMovement);
